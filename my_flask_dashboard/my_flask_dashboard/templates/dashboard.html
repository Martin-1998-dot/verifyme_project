<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Dashboard</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    body { background-color: #FFFDF5; font-family: Arial, sans-serif; padding: 20px; }
    h1 { color: #1E3A8A; margin-bottom: 30px; }
    .card { border-radius: 12px; margin-bottom: 25px; box-shadow: 0 4px 8px rgba(0,0,0,0.05); }
    .card-header { font-weight: bold; font-size: 1.3rem; color: #fff; }
    .company { background-color: #1E3A8A; } 
    .profession { background-color: #4C1D95; } 
    .stand { background-color: #F97316; } 
    .house { background-color: #16A34A; } 
    .dna { background-color: #DC2626; } 
    .ancestral { background-color: #D97706; } 
    label { font-weight: bold; font-size: 1rem; }
    input, select { font-size: 1rem; }
    table th { background-color: #334155; color: #fff; }
    table tr:nth-child(even) { background-color: #E0F2FE; }
    table tr:nth-child(odd) { background-color: #FFFFFF; }
    table td, table th { text-align: center; vertical-align: middle; }
</style>
</head>
<body>

<div class="container">
    <h1>Admin Dashboard</h1>

    <!-- Category Selector -->
    <div class="mb-4">
        <label for="categorySelect" class="form-label">Select Category</label>
        <select id="categorySelect" class="form-select">
            <option value="">-- Choose Category --</option>
            <option value="company">Company</option>
            <option value="profession">Profession</option>
            <option value="stand">Stand</option>
            <option value="house">House</option>
            <option value="dna">DNA Sample</option>
            <option value="ancestral">Ancestral / Family DNA</option>
        </select>
    </div>

    <!-- Dynamic Form Card -->
    <div id="dynamicForm" class="card d-none">
        <div class="card-header" id="formHeader">Category Form</div>
        <div class="card-body">
            <form id="categoryForm" method="POST">
                <!-- JS will inject fields here -->
            </form>
        </div>
    </div>

    <!-- Table Section -->
    <div id="tableSection" class="mt-4">
        <!-- JS will inject dynamic table here -->
    </div>
</div>

<script>
const categorySelect = document.getElementById('categorySelect');
const dynamicForm = document.getElementById('dynamicForm');
const formHeader = document.getElementById('formHeader');
const categoryForm = document.getElementById('categoryForm');
const tableSection = document.getElementById('tableSection');

// Fields per category
const fields = {
    company: [
        {label: "Company Name", name: "name", type: "text"},
        {label: "Registration Number", name: "reg_no", type: "text"},
        {label: "Owner", name: "owner", type: "text"},
        {label: "Years Operating", name: "years_operating", type: "number"},
        {label: "Main Activity", name: "main_activity", type: "text"},
        {label: "Scandals", name: "scandals", type: "text"}
    ],
    profession: [
        {label: "Profession Name", name: "name", type: "text"},
        {label: "Description", name: "description", type: "text"},
        {label: "Years Experience", name: "years_exp", type: "number"},
        {label: "High School", name: "high_school", type: "text"},
        {label: "College", name: "college", type: "text"},
        {label: "Attachment", name: "attachment", type: "text"},
        {label: "Scandals", name: "scandals", type: "text"}
    ],
    stand: [
        {label: "Stand ID", name: "stand_id", type: "text"},
        {label: "Owner", name: "owner", type: "text"},
        {label: "Acquisition Date", name: "acquisition_date", type: "date"},
        {label: "Title Deed", name: "title_deed", type: "text"},
        {label: "Owner ID", name: "owner_id", type: "text"},
        {label: "Next of Kin", name: "next_of_kin", type: "text"}
    ],
    house: [
        {label: "House ID", name: "house_id", type: "text"},
        {label: "Owner", name: "owner", type: "text"},
        {label: "Acquisition Date", name: "acquisition_date", type: "date"},
        {label: "Title Deed", name: "title_deed", type: "text"},
        {label: "Owner ID", name: "owner_id", type: "text"},
        {label: "Next of Kin", name: "next_of_kin", type: "text"}
    ],
    dna: [
        {label: "Sample ID", name: "sample_id", type: "text"},
        {label: "Donor Name", name: "donor_name", type: "text"},
        {label: "Collection Date", name: "collection_date", type: "date"},
        {label: "Lab", name: "lab", type: "text"},
        {label: "Type", name: "type", type: "text"},
        {label: "Related Case", name: "related_case", type: "text"}
    ],
    ancestral: [
        {label: "Sample ID", name: "sample_id", type: "text"},
        {label: "Family Member Name", name: "family_name", type: "text"},
        {label: "Relation", name: "relation", type: "text"},
        {label: "Collection Date", name: "collection_date", type: "date"},
        {label: "Lab", name: "lab", type: "text"},
        {label: "Notes / Observations", name: "notes", type: "text"}
    ]
};

// Colors per category
const colors = {
    company: "company",
    profession: "profession",
    stand: "stand",
    house: "house",
    dna: "dna",
    ancestral: "ancestral"
};

categorySelect.addEventListener('change', () => {
    const category = categorySelect.value;
    if (!category) {
        dynamicForm.classList.add('d-none');
        return;
    }

    dynamicForm.classList.remove('d-none');
    formHeader.className = "card-header " + colors[category];
    formHeader.textContent = category.charAt(0).toUpperCase() + category.slice(1) + " Form";

    // Build form fields
    categoryForm.innerHTML = "";
    fields[category].forEach(f => {
        const div = document.createElement('div');
        div.className = "mb-3";
        div.innerHTML = `<label class="form-label">${f.label}</label>
                         <input class="form-control" type="${f.type}" name="${f.name}" required>`;
        categoryForm.appendChild(div);
    });

    // Add submit button
    const btn = document.createElement('button');
    btn.type = "submit";
    btn.className = "btn btn-success";
    btn.textContent = "Add " + category.charAt(0).toUpperCase() + category.slice(1);
    categoryForm.appendChild(btn);
});
</script>

</body>
</html>
